{% extends 'scrum/_base.html' %}

{% block main_content %}
<div class="weui-toptips weui-toptips_warn js_tooltips">错误提示</div>
<div class="container" id="container">

    <form class="" action="../answerit/" method="POST">
        {% csrf_token %}
        <div class="page__hd">
            <div class="weui-progress">
                <div class="weui-progress__bar">
                    <div class="weui-progress__inner-bar js_progress" style="width: 80%;" id="progress"></div>
                </div>
                <span><i class="weui-icon-info"></i>59:06</span>
            </div>
            <h1 class="page__title">{{entry.question}}</h1>
            <p class="page__desc">...</p>
        </div>

        <div class="page__bd page__bd_spacing">
            {% if entry.category == 'S' %}
            <div class="weui-cells__title">单选题</div>
            <div class="weui-cells weui-cells_radio">
                {% for idx, desc in enumerated_options %}
                <label class="weui-cell weui-check__label" for="x11{{idx}}">
                    <div class="weui-cell__bd">
                        <p>选项({{idx}}). {{desc}}</p>
                    </div>
                    <div class="weui-cell__ft">
                        <input type="radio" class="weui-check" name="radio1" id="x11{{idx}}" value="{{idx}}">
                        <span class="weui-icon-checked"></span>
                    </div>
                </label>
                {% endfor %}
            </div>
            {% elif entry.category == 'M' %}
            <div class="weui-cells__title">多选题</div>
            <div class="weui-cells weui-cells_checkbox">
                {% for idx, desc in enumerated_options %}
                <label class="weui-cell weui-check__label" for="s11{{idx}}">
                    <div class="weui-cell__hd">
                        <input type="checkbox" class="weui-check" name="checkbox1" id="s11{{idx}}" value="{{idx}}">
                        <i class="weui-icon-checked"></i>
                    </div>
                    <div class="weui-cell__bd">
                        <p>选项({{idx}}). {{desc}}</p>
                    </div>
                </label>
                {% endfor %}
            </div>
            {% endif %}
            <a href="javascript:void(0);" class="weui-cell weui-cell_link">
                <div class="weui-msg__icon-area"><i class="weui-icon-success weui-icon_msg"></i></div>
                <div class="weui-cell__bd">正确答案是:{{entry.answer}}<br/>提示:{{entry.tips}}
                </div>
            </a>

            <div class="weui-btn-area">
                <input type="submit" class="weui-btn weui-btn_primary" id="submitAnswer" value="提交答案"/>
                <a class="weui-btn weui-btn_default" href="javascript:" id="nextQuestion">下一题</a>
            </div>
        </div>

        <div class="page__ft">
            <a href="/"><img src="http://www.uperform.cn/wp-content/uploads/2017/06/up.png"></a>
            <p class="weui-footer__text">Scrum认证培训敏捷教练咨询</p>
            <p class="weui-footer__text">Copyright © 2007-2017 www.uperform.cn</p>
        </div>
    </form>


</div>
{% endblock %}



{% block custom_scripts %}
<script>

        var progress = 15;
        function next() {
            if(progress > 100){
                progress = 0;
                return;
            }
            $('#progress').css({width: progress + '%'});
            progress = ++progress;
            setTimeout(next, 20);
        }
        next();


        $('#answerTips').hide();
        $('#submitAnswer').click(function(){
            $('#answerTips').show();
        });

        function androidInputBugFix() {
            // .container 设置了 overflow 属性, 导致 Android 手机下输入框获取焦点时, 输入法挡住输入框的 bug
            // 相关 issue: https://github.com/weui/weui/issues/15
            // 解决方法:
            // 0. .container 去掉 overflow 属性, 但此 demo 下会引发别的问题
            // 1. 参考 http://stackoverflow.com/questions/23757345/android-does-not-correctly-scroll-on-input-focus-if-not-body-element
            //    Android 手机下, input 或 textarea 元素聚焦时, 主动滚一把
            if (/Android/gi.test(navigator.userAgent)) {
                window.addEventListener('resize', function () {
                    if (document.activeElement.tagName == 'INPUT' || document.activeElement.tagName == 'TEXTAREA') {
                        window.setTimeout(function () {
                            document.activeElement.scrollIntoViewIfNeeded();
                        }, 0);
                    }
                })
            }
        }




</script>
{% endblock %}